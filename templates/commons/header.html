{% load static %}
<header id="home">
    <div class="top-header">
        <div class="container-fluid-lg">
            <div class="row">
                <div class="col-auto d-sm-block d-none">
                    <p class="font-dark-30 mb-0">Offer Coupon Code : <span class="fw-bold">AGE4526</span></p>
                </div>
                <div class="col-auto">
                    <ul class="border-list">
                        <li>
                            <div class="dropdown">
                                <a class="dropdown-toggle" href="javascript:void(0)" role="button" id="dropdownMenuLink"
                                    data-bs-toggle="dropdown">
                                    <span>Login</span> & Register
                                    <i class="fas fa-chevron-down"></i>
                                </a>
                                <ul class="dropdown-menu dropdown-menu-end">
                                    <li class="w-100">
                                        <a class="dropdown-item" href="/login_page">Log In</a>
                                    </li>
                                    <li class="w-100">
                                        <a class="dropdown-item" href="/signup_page">Register</a>
                                    </li>
                                </ul>
                            </div>
                        </li>


                    </ul>
                </div>
            </div>
        </div>
    </div>
    <div class="main-header navbar-searchbar">
        <div class="container-fluid-lg">
            <div class="row">
                <div class="col-lg-12">
                    <div class="main-menu">
                        <div class="menu-left">
                            <div class="brand-logo">
                                <a href="/">

                                    <img loading="lazy"
                                        src="{% static 'assets/images/home_page_images/logo_transparent.png' %}"
                                        class="img-fluid blur-up lazyload" alt="logo">
                                </a>
                            </div>
                            <div class="category-menu">
                                <button type="button" class="btn btn-solid-default toggle-category d-sm-block d-none">
                                    All categories
                                    <i class="fas fa-chevron-down d-xl-inline-block d-none"></i>
                                </button>
                                <div class="category-dropdown">
                                    <div class="close-btn d-xl-none">
                                        Category List
                                        <span class="back-category"><i class="fa fa-angle-left"></i>
                                        </span>
                                    </div>
                                    <ul>
                                        <li>
                                            <a href="javascript:void(0)">Gym Bottles</a>
                                        </li>
                                        <li class="submenu">
                                            <a href="javascript:void(0)">
                                                Gym Accessories
                                            </a>
                                            <ul class="category-mega-menu">
                                                <li>
                                                    <div class="row">
                                                        <div class="col-xl-3">
                                                            <div class="category-childmenu">
                                                                <div class="title-category">
                                                                    <h6>Watch Brands</h6>
                                                                </div>
                                                                <ul>
                                                                    <li>
                                                                        <a href="javascript:void(0)">Coros</a>
                                                                    </li>
                                                                    <li>
                                                                        <a href="javascript:void(0)">Titan</a>
                                                                    </li>
                                                                    <li>
                                                                        <a href="javascript:void(0)">Citizen</a>
                                                                    </li>
                                                                    <li>
                                                                        <a href="javascript:void(0)">Casio</a>
                                                                    </li>
                                                                    <li>
                                                                        <a href="javascript:void(0)">Movado</a>
                                                                    </li>
                                                                    <li>
                                                                        <a href="javascript:void(0)">Tissot</a>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                        <div class="col-xl-3">
                                                            <div class="category-childmenu">
                                                                <div class="title-category">
                                                                    <h6>Watch Display</h6>
                                                                </div>
                                                                <ul>
                                                                    <li>
                                                                        <a href="javascript:void(0)">Analog</a>
                                                                    </li>
                                                                    <li>
                                                                        <a href="javascript:void(0)">Digital</a>
                                                                    </li>
                                                                    <li>
                                                                        <a href="javascript:void(0)">Hybrid</a>
                                                                    </li>
                                                                    <li>
                                                                        <a href="javascript:void(0)">Tactile</a>
                                                                    </li>
                                                                    <li>
                                                                        <a href="javascript:void(0)">Touchscreen</a>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                        <div class="col-xl-3">
                                                            <div class="category-childmenu">
                                                                <div class="title-category">
                                                                    <h6>Watch Style</h6>
                                                                </div>
                                                                <ul>
                                                                    <li>
                                                                        <a href="javascript:void(0)">Casual</a>
                                                                    </li>
                                                                    <li>
                                                                        <a href="javascript:void(0)">Dress</a>
                                                                    </li>
                                                                    <li>
                                                                        <a href="javascript:void(0)">Fashion</a>
                                                                    </li>
                                                                    <li>
                                                                        <a href="javascript:void(0)">Luxury</a>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                        </div>
                                                        <div class="col-xl-3">
                                                            <div class="category-banner">
                                                                <img loading="lazy"
                                                                    src="/voxo/voxoapp/static/assets/images/electronics/banner/4.jpg"
                                                                    class="img-fluid blur-up lazyload" alt="">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </li>
                                            </ul>
                                        </li>



                                    </ul>
                                </div>
                            </div>
                        </div>
                        <nav>
                            <div class="main-navbar">
                                <div id="mainnav">
                                    <div class="toggle-nav me-3"><i class="fa fa-bars sidebar-bar"></i></div>
                                    <ul class="nav-menu">
                                        <li class="back-btn d-xl-none">
                                            <div class="close-btn">
                                                Menu
                                                <span class="mobile-back"><i class="fa fa-angle-left"></i>
                                                </span>
                                            </div>
                                        </li>
                                        <!-- ===================================================================================== -->



                                        <li class="mega-menu home-menu">
                                            <a href="/" class="nav-link menu-title">home</a>

                                        </li>

                                        <li>
                                            <a href="/" class="nav-link menu-title">
                                                Store
                                            </a>

                                        </li>
                                        <li class="dropdown">
                                            <a href="javascript:void(0)" class="nav-link menu-title">categories</a>
                                            <ul class="nav-submenu menu-content">
                                                <li>
                                                    <a href="javascript:void()">
                                                        Gym Bottles
                                                    </a>
                                                </li>
                                                <li>
                                                    <a href="javascript:void()">
                                                        Gym Accessories
                                                    </a>
                                                </li>
                                                <li>
                                                    <a href="javascript:void()">
                                                        Hip Thrust Belts
                                                    </a>
                                                </li>

                                            </ul>
                                        </li>

                                        <li>
                                            <a href="javascript:void(0)" class="nav-link menu-title">
                                                about us
                                            </a>

                                        </li>
                                        <li>
                                            <a href="javascript:void(0)" class="nav-link menu-title">
                                                contact
                                            </a>

                                        </li>

                                        <!-- ===================================================================================== -->
                                        <li class="mobile-poster d-flex d-xl-none">
                                            <img loading="lazy" src="/voxo/voxoapp/static/assets/images/pwa.png"
                                                class="img-fluid" alt="">
                                            <div class="mobile-contain">
                                                <h5>Enjoy app-like experience</h5>
                                                <p class="font-light">With this Screen option you can use Website
                                                    like an App.</p>
                                                <a href="javascript:void(0)" id="installApp"
                                                    class="btn btn-solid-default btn-spacing w-100">ADD TO
                                                    HOMESCREEN</a>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </nav>
                        <div class="menu-right">
                            <ul>
                                <li>
                                    <div class="search-box theme-bg-color">
                                        <i data-feather="search"></i>
                                    </div>
                                </li>
                                <li class="onhover-dropdown wislist-dropdown">
                                    <div class="cart-media">
                                        <div class="cart-icon">
                                            <a href="/wishlist_page">
                                                <i data-feather="heart"></i>
                                                <span class="label label-theme rounded-pill">0</span>
                                            </a>
                                        </div>
                                        <div class="cart-content">
                                            <h6>Empty</h6>
                                            <span>Wish List</span>
                                        </div>
                                    </div>
                                    <div class="onhover-div">
                                        <a href="/wishlist_page">
                                            <div class="wislist-empty">
                                                <i class="fab fa-gratipay"></i>

                                                <h6 class="mb-1">Your wislist empty !!</h6>

                                                <p class="font-light mb-0">explore more and shortlist items.</p>
                                            </div>
                                        </a>
                                    </div>
                                </li>
                                <li class="onhover-dropdown cart-dropdown">
                                    <button type="button" class="btn btn-solid-default btn-spacing" id="colorUsed">
                                        <i data-feather="shopping-cart" class="pe-2"></i>
                                        <span id="cartTotalPriceButton">
                                            £{{ cart.get_total_price }}
                                        </span>
                                    </button>
                                    <div class="onhover-div">
                                        <div class="cart-menu">
                                            <div class="cart-title">
                                                <h6>
                                                    <i data-feather="shopping-bag"></i>
                                                    <span class="label label-theme rounded-pill">0</span>
                                                </h6>
                                                <span class="d-md-none d-block">
                                                    <i class="fas fa-arrow-right back-cart"></i>
                                                </span>
                                            </div>
                                            <ul class="custom-scroll">
                                                <li>
                                                    <img src="{% static 'assets/images/cartEmpty.png' %}" alt=""
                                                        class="img-fluid" />
                                                </li>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>






                        <div class="search-full">
                            <div class="input-group">
                                <span class="input-group-text">
                                    <i data-feather="search" class="font-light"></i>
                                </span>
                                <input type="text" class="form-control search-type" id="search-input"
                                    placeholder="Search here.." oninput="searchValue()">
                                <span class="input-group-text close-search">
                                    <i data-feather="x" class="font-light"></i>
                                </span>
                            </div>
                            <div id="search_results"></div>

                            <div class="search-suggestion" id="searchData">
                                <ul class="custom-scroll" id="realData">
                                </ul>
                            </div>
                        </div>



                        <script>

                            let query
                            async function searchValue() {
                                query = document.getElementById("search-input").value;
                                document.getElementById("search-input").innerHTML = "you search :" + query;



                                const response = await fetch(`/search_products/?q=${query}&category=Shoes`);

                                const productData = await response.json();
                                displayProductData(productData);
                            }

                            function displayProductData(productData) {
                                $("#realData").empty();

                                if (productData.data.length === 0) {
                                    $('#realData').append('<li class="no-results"> No products found! </li>');
                                    return;
                                }

                                productData.data.map(value => {
                                    let ratingHtml = '';
                                    if (parseInt(value.rating) < 5) {
                                        for (let i = 0; i < parseInt(value.rating); i++) {
                                            ratingHtml += '<li><a class="fas fa-star theme-color" id="productOfStar" href="/product-detail/' + value.id + '"></a></li>';
                                        }
                                        let emptyStars = 5 - parseInt(value.rating);
                                        for (let i = 0; i < emptyStars; i++) {
                                            ratingHtml += '<li><i class="fas fa-star"></i></li>';
                                        }
                                    } else {
                                        for (let i = 0; i < 5; i++) {
                                            ratingHtml += '<li><a class="fas fa-star theme-color" id="productOfStar" href="/product-detail/' + value.id + '"></a></li>';
                                        }
                                    }
                                    $("#realData").append(`<li>
      <div class="product-cart media">
        <a href="/product-detail/${value.id}">
          <img
            src="${value.image_url}"
            href="/product-detail/${value.id}"
            class="img-fluid blur-up lazyload"
            alt=""
          />
        </a>

        <div class="media-body">
          <a href="/product-detail/${value.id}">
            <h6 class="mb-1">${value.name}</h6>
          </a>
          <ul class="rating p-0">
            ${ratingHtml}
          </ul>
          <a href="/product-detail/${value.id}" class="mb-0 mt-1">$${value.price}</a>
        </div>
      </div>
  </li>`)
                                });
                            }
                        </script>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>